{
  "id": "UniversalWindowsPlatform",
  "name": "Universal Windows Platform",
  "category": "Build",
  "defaultHostedQueue": "Hosted Windows 2019 with VS 2019",
  "iconTaskId": "71a9a2d3-a98a-4caa-96ab-affca411ecda",
  "description": "Build and test a Universal Windows Platform application using Visual Studio.",
    "template": {
        "process": {
            "type": 1,
            "phases": [
                {
                    "steps": [
                        {
                            "enabled": true,
                            "displayName": "Use NuGet 4.4.1",
                            "task": {
                                "id": "2c65196a-54fd-4a02-9be8-d9d1837b7c5d",
                                "versionSpec": "0.*",
                                "definitionType": "task"
                            },
                            "inputs": {
                                "versionSpec": "4.4.1",
                                "checkLatest": "false"
                            }
                        },
                        {
                            "enabled": true,
                            "continueOnError": false,
                            "alwaysRun": false,
                            "displayName": "NuGet restore **\\*.sln",
                            "timeoutInMinutes": 0,
                            "task": {
                                "id": "333b11bd-d341-40d9-afcf-b32d5ce6f23b",
                                "versionSpec": "2.*",
                                "definitionType": "task"
                            },
                            "inputs": {
                                "solution": "$(Parameters.solution)",
                                "selectOrConfig": "select",
                                "feed": "",
                                "includeNuGetOrg": "true",
                                "nugetConfigPath": "",
                                "noCache": "false",
                                "packagesDirectory": "",
                                "verbosity": "-"
                            }
                        },
                        {
                            "enabled": true,
                            "continueOnError": false,
                            "alwaysRun": false,
                            "displayName": "Build solution **\\*.sln",
                            "timeoutInMinutes": 0,
                            "task": {
                                "id": "71a9a2d3-a98a-4caa-96ab-affca411ecda",
                                "versionSpec": "1.*",
                                "definitionType": "task"
                            },
                            "inputs": {
                                "solution": "$(Parameters.solution)",
                                "vsVersion": "15.0",
                                "msbuildArgs": "/p:AppxBundlePlatforms=\"$(BuildPlatform)\" /p:AppxPackageDir=\"$(Build.ArtifactStagingDirectory)\\AppxPackages\\\\\" /p:AppxBundle=Always /p:UapAppxPackageBuildMode=StoreUpload",
                                "platform": "x86",
                                "configuration": "$(BuildConfiguration)",
                                "clean": "false",
                                "maximumCpuCount": "false",
                                "restoreNugetPackages": "false",
                                "msbuildArchitecture": "x86",
                                "logProjectEvents": "true",
                                "createLogFile": "false"
                            }
                        },
                        {
                            "enabled": true,
                            "continueOnError": false,
                            "alwaysRun": true,
                            "displayName": "Publish artifact: drop",
                            "timeoutInMinutes": 0,
                            "task": {
                                "id": "2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
                                "versionSpec": "1.*",
                                "definitionType": "task"
                            },
                            "inputs": {
                                "PathtoPublish": "$(Build.ArtifactStagingDirectory)\\AppxPackages",
                                "ArtifactName": "drop",
                                "ArtifactType": "Container",
                                "TargetPath": "\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)"
                            }
                        },
                        {
                            "enabled": false,
                            "alwaysRun": true,
                            "inputs": {
                            },
                            "task": {
                                "id": "b832bec5-8c27-4fef-9fb8-6bec8524ad8a",
                                "versionSpec": "2.*"
                            }
                        }
                    ]
                }
            ]
        },
        "options": [
            {
                "definition": {
                    "id": "5D58CC01-7C75-450C-BE18-A388DDB129EC"
                },
                "enabled": true,
                "inputs": {
                }
            }
        ],
        "variables": {
            "BuildConfiguration": {
                "value": "release",
                "allowOverride": true
            },
            "BuildPlatform": {
                "value": "x86|x64|ARM",
                "allowOverride": true
            },
            "system.debug": {
                "value": "false",
                "allowOverride": true
            }
        },
        "buildNumberFormat": "$(date:yyyyMMdd)$(rev:.r)",
        "processParameters": {
            "inputs": [
                {
                    "options": {},
                    "properties": {},
                    "name": "solution",
                    "label": "{SolutionLabel}",
                    "defaultValue": "**\\*.sln",
                    "required": true,
                    "type": "filePath",
                    "helpMarkDown": "{SolutionDescription}",
                    "visibleRule": "",
                    "groupName": ""
                }
            ]
        }
    }
}