{
  "id": "NodeJSWithGrunt",
  "name": "Node.js With Grunt",
  "category": "Build",
  "defaultHostedQueue": "Azure Pipelines",
  "iconTaskId": "FE47E961-9FA8-4106-8639-368C022D43AD",
  "description": "Build a Node.js application using the Grunt task runner.",
  "template": {
    "buildNumberFormat": "$(date:yyyyMMdd)$(rev:.r)",
    "build": [
      {
        "enabled": true,
        "continueOnError": false,
        "alwaysRun": false,
        "timeoutInMinutes": 0,
        "displayName": "npm install",
        "order": 0,
        "inputs": {
          "command": "install"
        },
        "task": {
          "id": "fe47e961-9fa8-4106-8639-368c022d43ad",
          "versionSpec": "1.*",
          "definitionType": "task"
        }
      },
      {
        "enabled": true,
        "continueOnError": false,
        "alwaysRun": false,
        "timeoutInMinutes": 0,
        "displayName": "Run Grunt task",
        "order": 1,
        "inputs": {
          "gruntFile": "gruntfile.js",
          "targets": "",
          "arguments": "",
          "cwd": "",
          "gruntCli": "node_modules/grunt-cli/bin/grunt",
          "publishJUnitResults": "false",
          "testResultsFiles": "**/TEST-*.xml",
          "testRunTitle": "",
          "enableCodeCoverage": "false",
          "testFramework": "Mocha",
          "srcFiles": "",
          "testFiles": "test/*.js"
        },
        "task": {
          "id": "521d1e15-f5fb-4b73-a93b-b2fe88a9a286",
          "versionSpec": "0.*",
          "definitionType": "task"
        }
      },
      {
        "enabled": true,
        "continueOnError": false,
        "alwaysRun": false,
        "timeoutInMinutes": 0,
        "displayName": "Archive files",
        "order": 2,
        "inputs": {
          "rootFolderOrFile": "$(System.DefaultWorkingDirectory)",
          "includeRootFolder": "false",
          "archiveType": "zip",
          "tarCompression": "gz",
          "archiveFile": "$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip",
          "replaceExistingArchive": "true"
        },
        "task": {
          "id": "d8b84976-e99a-4b86-b885-4849694435b0",
          "versionSpec": "2.*",
          "definitionType": "task"
        }
      },
      {
        "displayName": "Publish artifacts: drop",
        "enabled": true,
        "continueOnError": false,
        "timeoutInMinutes": 0,
        "alwaysRun": false,
        "inputs": {
          "PathtoPublish": "$(Build.ArtifactStagingDirectory)",
          "ArtifactName": "drop",
          "ArtifactType": "Container",
          "TargetPath": "\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)",
          "Parallel": "false",
          "ParallelCount": "8"
        },
        "task": {
          "id": "2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
          "definitionType": "task",
          "versionSpec": "1.*"
        }
      }
    ]
  },

  "options": [ ],
    "variables": {
      "system.debug": {
        "value": "false",
        "allowOverride": true
      },
      "BuildConfiguration": {
        "value": "release",
        "allowOverride": true
      },
      "BuildPlatform": {
        "value": "any cpu",
        "allowOverride": true
      }
    },
    "triggers": [ ]
}
